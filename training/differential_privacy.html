<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="search" type="application/opensearchdescription+xml" title="DEPA World" href="/opensearch.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Material+Icons">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><title data-react-helmet="true">Differential Privacy | DEPA World</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://depa.world/training/differential_privacy"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-training-current"><meta data-react-helmet="true" property="og:title" content="Differential Privacy | DEPA World"><meta data-react-helmet="true" name="description" content="Differential Privacy"><meta data-react-helmet="true" property="og:description" content="Differential Privacy"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://depa.world/training/differential_privacy"><link data-react-helmet="true" rel="alternate" href="https://depa.world/training/differential_privacy" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://depa.world/training/differential_privacy" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.07ead65d.css">
<link rel="preload" href="/assets/js/runtime~main.289844f6.js" as="script">
<link rel="preload" href="/assets/js/main.4d1dae98.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_VLjY"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"></a><a class="navbar__item navbar__link" href="/"><div class="link"><div class="link__body"><div class="link__label">Home</div></div></div></a><div class="dropdown dropdown--hoverable"><a class="navbar__item navbar__link"><div class="link"><div class="link__body"><div class="link__label">Inference</div></div></div></a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/learn/about-depa/an-introduction-to-depa"><div class="link"><div class="link__body"><div class="link__label">Learn</div></div></div></a></li><li><a class="dropdown__link" href="/specification/about-spec"><div class="link"><div class="link__body"><div class="link__label">Specification</div></div></div></a></li></ul></div><div class="dropdown dropdown--hoverable"><a class="navbar__item navbar__link"><div class="link"><div class="link__body"><div class="link__label">Training</div></div></div></a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/training/depa_training_framework"><div class="link"><div class="link__body"><div class="link__label">Overview</div></div></div></a></li><li><a class="dropdown__link" href="/training/contracts"><div class="link"><div class="link__body"><div class="link__label">Contracts</div></div></div></a></li><li><a class="dropdown__link" href="/training/confidential_clean_room_design"><div class="link"><div class="link__body"><div class="link__label">Confidential Clean Rooms</div></div></div></a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item navbar__item--dock"><div class="toggle toggle_bWQZ toggle--disabled" role="button" tabindex="-1"><div class="toggle__icon toggle__icon--unchecked" style="font-family:Material Icons">dark_mode</div><div class="toggle__icon toggle__icon--checked" style="font-family:Material Icons">light_mode</div><input type="checkbox" class="toggle__screenreader-only" aria-label="Switch between dark and light mode"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y sidebarWithHideableNavbar_FoYL"><a tabindex="-1" class="sidebarLogo_FJUI" href="/"></a><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/training/depa_training_framework">DEPA Training Framework</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/training/depa">Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/training/contracts">Contracts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/training/confidential_clean_room_design">Confidential Clean Rooms</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/training/confidential_clean_room_design">Confidential Clean Room High Level Design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/training/confidential_clean_room_specifications">Confidential Clean Rooms Specifications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/training/differential_privacy">Differential Privacy</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/training/workflows">Workflows and API specifications</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/training/legal_faq">FAQ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/training/open-house-sessions">News</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/training/reference-implementation">Getting Started</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Differentially Private Training</h1><p>Imagine a TDC who wants to train a model for detecting payment fraud. The could do this by collecting labelled transaction data from multiple payment companies. The trained model might be quite useful, but it could also reveal a lot of information about the transactions, even if the TDC only has access to the trained model. Other kinds of models have been shown to be potentially vulnerable; credit card numbers have been pulled out of language models and actual faces reconstructed from image models. </p><p>The DEPA training framework supports model training using a robust approach based on <a href="https://desfontain.es/privacy/differential-privacy-awesomeness.html" target="_blank" rel="noopener noreferrer"><em>differential privacy</em></a>. </p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="differential-privacy">Differential Privacy<a class="hash-link" href="#differential-privacy" title="Direct link to heading">​</a></h2><p>At its roots, differential privacy is a mathematical way to protect individuals when their data is used in datasets. DP allows high level trends and patterns within the dataset to be shared while withholding information about individuals. It guarantees that adversaries cannot discover an individual within the protected data set even by comparing the data with other datasets. In other words, an individual will experience no difference whether they participate in information collection or not. This means that <strong>no harm will come to the participant as a result of providing data</strong>. </p><p>Differential privacy works by introducing a privacy loss or privacy budget parameter, often denoted as epsilon (ε), to the dataset. ε controls how much noise or randomness is added to the raw dataset. The added randomness is controlled, therefore, the resulting dataset is still accurate enough to generate aggregate insights through data analysis while maintaining the privacy of individual participants.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="differential-private-training">Differential Private Training<a class="hash-link" href="#differential-private-training" title="Direct link to heading">​</a></h2><p>There are several ways of training machine learning models with differential privacy. By far the most common is using Differentially Private Stochastic Gradient Descent (DP-SGD). DP-SGD prevents the model from memorizing or leaking sensitive information about the data by adding noise to the gradients during the optimization process. The amount of noise is carefully calibrated to satisfy a mathematical definition of differential privacy, which guarantees that the model&#x27;s output is almost independent of any single data point. DP-SGD can be applied to various types of models, such as deep neural networks, and has been used for tasks such as natural language processing and computer vision.  DP-SGD can be applied to fine-tune models while preserving the privacy of the task-specific data. </p><p>Here are some references that explain DP-SGD in more detail:</p><ul><li><a href="https://medium.com/pytorch/differential-privacy-series-part-1-dp-sgd-algorithm-explained-12512c3959a3" target="_blank" rel="noopener noreferrer">Differential Privacy Series | DP-SGD Algorithm Explained</a>: This blog post provides a gentle introduction to DP-SGD and its core concepts, such as clipping and noise addition.</li><li><a href="https://mukulrathi.com/privacy-preserving-machine-learning/deep-learning-differential-privacy/" target="_blank" rel="noopener noreferrer">Deep Learning with Differential Privacy (DP-SGD Explained)</a>: This article gives a more formal definition of differential privacy and shows how DP-SGD can be implemented using PyTorch.</li><li><a href="https://arxiv.org/abs/2107.14586" target="_blank" rel="noopener noreferrer">An Efficient DP-SGD Mechanism for Large Scale NLP Models</a>: This paper presents an efficient implementation of DP-SGD for fine-tuning large-scale NLP models based on LSTM and transformer architectures.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="differential-private-trainingfine-tuning-in-depa">Differential Private Training/Fine-tuning in DEPA<a class="hash-link" href="#differential-private-trainingfine-tuning-in-depa" title="Direct link to heading">​</a></h2><p>The DEPA training framework provides TDPs with mechanisms to ensure that TDCs use their datasets in a way that protects the privacy of data principals. Using these mechanisms, TDPs can meet compliance requirements </p><ul><li>TDPs create anonymized datasets by using standard de-identification approaches such as k-anonymity, masking and scrubbing as defined by the TSO. In addition, TDPs allocate a privacy budget for each dataset based on recommendations of the TSO. The privacy budget bounds the information a TDC can learn about de-identified records in the dataset. </li><li>When TDPs and TDCs sign contracts, they allocate a certain fraction of the privacy budget for each training run. This is specified in the privacy constraint in the contract. </li><li>When a CCR is created to train a model, it requests data encryptions keys from the TDP. The TDP SHALL NOT release keys to the CCR if the privacy budget has been exhausted. </li><li>In the CCR, models SHALL Be trained using a differentially private training algorithm subject to privacy constraints specified in the contracts. For example, if a model is trained using DP-SGD, the clipping norm and noise shall be chosen based on privacy constraints. </li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="privacy-budget-management">Privacy Budget Management<a class="hash-link" href="#privacy-budget-management" title="Direct link to heading">​</a></h2><p>In any differentially private mechanism, processing a dataset e.g., to train a model, consumes some privacy budget. The dataset cannot be used anyone once the allocated budget is exhausted. Therefore, privacy budget is a scarce resource that must be carefully managed. The DEPA training framework will provide TDPs and TDCs with guidance and tools to manage privacy budget correctly and judiciously. </p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="global-vs-tdc-specific-budget-allocation">Global vs TDC-specific budget allocation<a class="hash-link" href="#global-vs-tdc-specific-budget-allocation" title="Direct link to heading">​</a></h3><p>TDPs may assign a privacy budget to each TDC, under the assumption that TDCs can be consistently identified over time, and that TDCs do not collude e.g., by sharing their models with each other. Using DIDs and registration time checks addresses the first concern. Addressing advertent or inadvertent TDC collusion (e.g., due to a merger) is harder to address. </p><p>We recommend that TDPs employ the following graded budget allocation policies to address this concern. </p><table><thead><tr><th>Sensitivity Level</th><th>Data Privacy Sensitivity</th><th>Solution</th><th>Notes</th></tr></thead><tbody><tr><td>Level 0</td><td>Non-sensitive or aggregate data. Large amount of data is available for training and more data keeps getting generated continuously</td><td>Only legal protection</td><td><ul>Least restrictive for TDCs</ul></td></tr><tr><td>Level 1</td><td>Highly sensitive data. Also the speed at which more such data gets generated is not too slow.</td><td>Renewable Global Privacy Budget</td><td><ul><li> No restrictions in taking the model out </li><li> ”Old” training data is continuously replaced with “new” training data to ensure privacy </li></ul></td></tr><tr><td>Level 2</td><td>Highly sensitive data which is critical for larger social good. Also the speed at which more such data gets generated is slow</td><td>Restrict trained model use to CCR, i.e. the trained model never leaves CCR</td><td><ul><li> Makes collusion harder</li><li> Restricted participation but still better than no access to rare critical training data</li></ul></td></tr></tbody></table><p>The choice of budget allocation policy depends on the privacy sensitivity of the data. This will be a critical responsibility of SROs to agree upon the right level for each domain and dataset to best reflect the trade-offs between privacy of the data and the criticality of the use-cases for which the data is used.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/iSPIRT/depa/edit/main/internal/training/differential_privacy.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-08-18T13:52:58.000Z">8/18/2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/training/confidential_clean_room_specifications"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Confidential Clean Rooms Specifications</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/training/workflows"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Workflows</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#differential-privacy" class="table-of-contents__link toc-highlight">Differential Privacy</a></li><li><a href="#differential-private-training" class="table-of-contents__link toc-highlight">Differential Private Training</a></li><li><a href="#differential-private-trainingfine-tuning-in-depa" class="table-of-contents__link toc-highlight">Differential Private Training/Fine-tuning in DEPA</a></li><li><a href="#privacy-budget-management" class="table-of-contents__link toc-highlight">Privacy Budget Management</a><ul><li><a href="#global-vs-tdc-specific-budget-allocation" class="table-of-contents__link toc-highlight">Global vs TDC-specific budget allocation</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer padding--none"><div class="container"><div class="row footer__links padding-vert--xl"><div class="col footer__col"><h4 class="footer__title">LEARN</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/learn/about-depa/an-introduction-to-depa">About DEPA</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/consent-artefact">Consent Artefact</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/networks/ecosystem-and-network">Networks</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/glossary">Glossary</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">SPECIFICATION</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/specification/about-spec">About APIs and Flows</a></li><li class="footer__item"><a class="footer__link-item" href="/specification/entity-resolution">Entity Resolution</a></li><li class="footer__item"><a class="footer__link-item" href="/training/specification/data-provider-discovery">Data Provider Disovery</a></li><li class="footer__item"><a class="footer__link-item" href="/specification/mtls-establishment">Mutual TLS Establishment</a></li><li class="footer__item"><a class="footer__link-item" href="/specification/linking/linking-flow">Linking</a></li><li class="footer__item"><a class="footer__link-item" href="/specification/flows/consent-flow">Flows</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">TRAINING</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/training/depa_training_framework">DEPA Training Framework</a></li><li class="footer__item"><a class="footer__link-item" href="/training/depa">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/training/contracts">Contracts</a></li><li class="footer__item"><a class="footer__link-item" href="/training/confidential_clean_room_design">Confidential Clean Rooms</a></li><li class="footer__item"><a class="footer__link-item" href="/training/workflows">Workflows and API specifications</a></li><li class="footer__item"><a class="footer__link-item" href="/training/legal_faq">FAQ</a></li><li class="footer__item"><a class="footer__link-item" href="/training/reference-implementation">Getting Started</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/depa-world/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li><li class="footer__item"><a href="https://docusaurus.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docusaurus</a></li><li class="footer__item"><a href="https://wiki.iota.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">IOTA Wiki</a></li></ul></div></div><div class="footer__bottom padding-bottom--xl"><div class="footer__copyright">2023 DEPA Global. Built with Docusaurus, using the IOTA Wiki template.</div></div></div><div class="social"></div></footer></div>
<script src="/assets/js/runtime~main.289844f6.js"></script>
<script src="/assets/js/main.4d1dae98.js"></script>
</body>
</html>
"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9056],{4519:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return s},contentTitle:function(){return c},metadata:function(){return l},toc:function(){return d},default:function(){return u}});var n=a(7462),r=a(3366),i=(a(7294),a(3905)),o=["components"],s={id:"contracts",title:"Dataset References and Contracts",description:"Dataset References and Contracts"},c="Dataset References and Contracts",l={unversionedId:"contracts",id:"contracts",title:"Dataset References and Contracts",description:"Dataset References and Contracts",source:"@site/internal/training/contracts.md",sourceDirName:".",slug:"/contracts",permalink:"/training/contracts",editUrl:"https://github.com/iSPIRT/depa/edit/main/internal/training/contracts.md",tags:[],version:"current",lastUpdatedAt:1691657266,formattedLastUpdatedAt:"8/10/2023",frontMatter:{id:"contracts",title:"Dataset References and Contracts",description:"Dataset References and Contracts"},sidebar:"training",previous:{title:"Limitations and Roadmap",permalink:"/training/roadmap"},next:{title:"Contract Service Specifications",permalink:"/training/contract_service_specifications"}},d=[{value:"Dataset References",id:"dataset-references",children:[],level:2},{value:"Contracts",id:"contracts",children:[],level:2}],p={toc:d};function u(e){var t=e.components,a=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"dataset-references-and-contracts"},"Dataset References and Contracts"),(0,i.kt)("p",null,"In the DEPA training framework, TDPs register ",(0,i.kt)("strong",{parentName:"p"},"dataset references")," with a ",(0,i.kt)("a",{parentName:"p",href:"/training/contract_service_specifications"},"contract service")," to make their datasets discoverable to TDCs. TDCs who wish to train models using one or more registered datasets sign ",(0,i.kt)("strong",{parentName:"p"},"contracts")," with the respective TDCs and register the contracts with the contract service. "),(0,i.kt)("h2",{id:"dataset-references"},"Dataset References"),(0,i.kt)("p",null,"Dataset references are signed JSON objects that include (but are not limited to) "),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Name: Name of the dataset"),(0,i.kt)("li",{parentName:"ul"},"Description: Description of the dataset"),(0,i.kt)("li",{parentName:"ul"},"UUID: Unique identifier for the dataset"),(0,i.kt)("li",{parentName:"ul"},"Schema: Reference to the dataset schema"),(0,i.kt)("li",{parentName:"ul"},"URL: Location where the encrypted dataset is available"),(0,i.kt)("li",{parentName:"ul"},"Sample URL: Location of the sample dataset"),(0,i.kt)("li",{parentName:"ul"},"Key Vault URL: Location where encryption key is available"),(0,i.kt)("li",{parentName:"ul"},"Key ID: Key identifier"),(0,i.kt)("li",{parentName:"ul"},"Data Usage Policy: Policy constraining use of the dataset "),(0,i.kt)("li",{parentName:"ul"},"Data card: Detailed description of data sources, how the data was sourced, data distributions, pre-processing, risks and limitations. "),(0,i.kt)("li",{parentName:"ul"},"Creators: Names of dataset creations. ")),(0,i.kt)("p",null,"A sample dataset reference is as follows."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "covid-hospitalization",\n  "uuid": "...",\n  "schema": "...",\n  "url": "...",\n  "sampleUrl": "...",\n  "keyVaultUrl": "...",\n  "keyid": "CovidHospitalizationDataKey",\n  "dataUsagePolicy": "...",\n  "dataCard": "...",\n  "creators": "abc@hospital.com"\n}\n')),(0,i.kt)("p",null,"TDPs can restrict the operations that may be performed on a dataset using ",(0,i.kt)("inlineCode",{parentName:"p"},"dataUsagePolicy"),". For example, the policy may specify that certain columns (e.g., mobile number) in the dataset may not be used as keys in a join operation. The SRO shall define a standard language (e.g., Rego) for expressing data usage policies."),(0,i.kt)("p",null,"The SRO SHALL define the format and attributes required in the data card. "),(0,i.kt)("p",null,"See ",(0,i.kt)("a",{parentName:"p",href:"/training/contract_service_specifications"},"contract service specifications")," for details on signing and registering dataset references. "),(0,i.kt)("h2",{id:"contracts"},"Contracts"),(0,i.kt)("p",null,"TDPs and TDCs collaborate on datasets using ",(0,i.kt)("strong",{parentName:"p"},"digital contracts"),". A contract is an object that defines the terms of a collaboration. It includes (but is not limited to)"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"List of participants. This includes TDPs, TDCs, and CCR providers."),(0,i.kt)("li",{parentName:"ul"},"Duration of the contract. "),(0,i.kt)("li",{parentName:"ul"},"The dataset(s) being shared."),(0,i.kt)("li",{parentName:"ul"},"Constraints under which each dataset is shared."),(0,i.kt)("li",{parentName:"ul"},"Terms under which the dataset is shared."),(0,i.kt)("li",{parentName:"ul"},"Terms under which the contract may be revoked. ")),(0,i.kt)("p",null,"Constraints may include (but are not limited to)"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Security constraints e.g., the specific confidential clean room environment in which the dataset can be accessed"),(0,i.kt)("li",{parentName:"ul"},"Data usage constraints e.g., the class of queries that can be performed on the dataset"),(0,i.kt)("li",{parentName:"ul"},"Privacy constraints e.g., the privacy budget available to the TDC")),(0,i.kt)("p",null,"Dataset sharing terms may include payment terms e.g., one time payments, pay per use etc. "),(0,i.kt)("p",null,"A sample contract is as follows. "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "f4f72a88-bab1-11ed-afa1-0242ac120002",\n  "schemaVersion": "0.1",\n  "startTime": "2023-03-14T00:00:00.000Z",\n  "expiryTime": "2024-03-14T00:00:00.000Z",\n  "tdc" : "did:web:researchlabs.ac.in",\n  "tdps" : [\n    "did:web:abc.corp.com",\n    "did:web:xyz.gov.in"\n  ],\n  "ccrp": "did:web:ccrp.cloud.com",\n  "datasets": [\n    {\n      "id" : "19517ba8-bab8-11ed-afa1-0242ac120002",\n      "name": "covid-infection",\n      "url" : "...",\n      "provider": "did:web:abc.corp.com"\n    },\n    {\n      "id" : "216d5cc6-bab8-11ed-afa1-0242ac120002",\n      "name": "covid-hospitalization",\n      "url" : "...",\n      "provider": "did:web:xyz.gov.in"\n    }\n  ],\n  "purpose": "TRAINING",\n  "constraints": [\n    {\n      "compute" : {\n        "attestation_service": "health.sro.ac.in"\n      },\n      "privacy": [\n        {\n          "dataset": "19517ba8-bab8-11ed-afa1-0242ac120002", \n          "epsilon_threshold": "1.5",\n          "noise_multiplier": "2.0",\n          "delta": "0.01",\n          "epochs_per_report": "2"\n        },\n        {\n          "dataset": "216d5cc6-bab8-11ed-afa1-0242ac120002", \n          "epsilon_threshold": "1.5",\n          "noise_multiplier": "2.0",\n          "delta": "0.01",\n          "epochs_per_report": "2"\n        }\n      ]\n    }\n  ],\n  "terms": {\n    "payment" : "..."\n  }\n}\n')),(0,i.kt)("p",null,"This contract between entitles an organization ",(0,i.kt)("inlineCode",{parentName:"p"},"research.ac.in")," to access two datasets, a dataset called ",(0,i.kt)("inlineCode",{parentName:"p"},"covid-infection")," from ",(0,i.kt)("inlineCode",{parentName:"p"},"abc.corp.com"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"covid-hospitalization")," from ",(0,i.kt)("inlineCode",{parentName:"p"},"xyz.gov.in")," for the purpose of training. However, the dataset may only be accessed in  confidential clean rooms authorized by a healthcare SRO. Furthermore, the training algorithm may not exceed the specified privacy budget of each of the datasets."),(0,i.kt)("p",null,"Contracts come into existence when they are signed and registered with a contract service. During registration, contract services may enforce additional policies e.g., to ensure that contracts are fair and non-discriminatory."))}u.isMDXComponent=!0},3905:function(e,t,a){a.d(t,{Zo:function(){return d},kt:function(){return m}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var c=n.createContext({}),l=function(e){var t=n.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=l(a),m=r,f=u["".concat(c,".").concat(m)]||u[m]||p[m]||i;return a?n.createElement(f,o(o({ref:t},d),{},{components:a})):n.createElement(f,o({ref:t},d))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=u;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var l=2;l<i;l++)o[l]=a[l];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"}}]);